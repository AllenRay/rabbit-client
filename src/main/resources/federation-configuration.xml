<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
	http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd">

    <context:annotation-config/>
    <context:component-scan base-package="cn.rabbit.test"/>

    <bean id="channelFactory" class="cn.rabbit.ChannelFactory" scope="singleton">
        <property name="address" value="172.21.107.206,172.21.107.128,172.21.107.50"/>   <!--172.31.15.50,172.31.18.129--> <!--54.172.10.194,54.173.105.184-->
        <property name="userName" value="oneplus_admin"/>
        <property name="password" value="oneplus123ABC"/>
        <property name="virtualHost" value="/oneplus"/>
        <!--<property name="cacheSize" value="10"/>-->
    </bean>

    <bean id="messageCountCache" class="cn.rabbit.cache.impl.MemoryMessageConsumedCountCache"/>

    <bean id="rabbitTemplate" class="cn.rabbit.RabbitTemplate">
        <property name="channelFactory" ref="channelFactory"/>
        <!--<property name="messageConsumedCountCache" ref="messageCountCache"/>-->
    </bean>

</beans>